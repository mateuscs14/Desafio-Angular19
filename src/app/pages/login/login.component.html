<div class="login-container">
    <div class="background-carousel"
        [style.backgroundImage]="'linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(' + currentImage + ')'">
    </div>
    <div class="back-link" (click)="goHome()">
        <i class="fas fa-arrow-left"></i> <span>Voltar</span>
    </div>

    <div class="login-card">
        <h1 class="title">Milena Portugal</h1>
        <p class="subtitle">Entre ou crie sua conta</p>

        <div class="toggle-container">
            <button class="toggle-btn" [class.active]="isLogin" (click)="toggleMode(true)">Login</button>
            <button class="toggle-btn" [class.active]="!isLogin" (click)="toggleMode(false)">Cadastro</button>
        </div>

        <form [formGroup]="isLogin ? loginForm : registerForm" (ngSubmit)="onSubmit()">
            <div class="form-group" *ngIf="!isLogin">
                <label for="name">Nome Completo</label>
                <input type="text" id="name" formControlName="name" placeholder="Seu nome completo">
                <div class="error-message"
                    *ngIf="registerForm.get('name')?.invalid && registerForm.get('name')?.touched">
                    Nome deve conter apenas letras.
                </div>
            </div>

            <div class="form-group" *ngIf="!isLogin">
                <label for="phone">Telefone</label>
                <input type="tel" id="phone" formControlName="phone" placeholder="Apenas números">
                <div class="error-message"
                    *ngIf="registerForm.get('phone')?.invalid && registerForm.get('phone')?.touched">
                    Telefone deve conter apenas números.
                </div>
            </div>

            <div class="form-group">
                <label for="email">Email</label>
                <input type="email" id="email" formControlName="email" placeholder="Email">
                <div class="error-message"
                    *ngIf="(isLogin ? loginForm.get('email') : registerForm.get('email'))?.invalid && (isLogin ? loginForm.get('email') : registerForm.get('email'))?.touched">
                    Email inválido.
                </div>
            </div>

            <div class="form-group">
                <label for="password">Senha</label>
                <input type="password" id="password" formControlName="password" placeholder="••••••••">
                <div class="error-message"
                    *ngIf="(isLogin ? loginForm.get('password') : registerForm.get('password'))?.invalid && (isLogin ? loginForm.get('password') : registerForm.get('password'))?.touched">
                    Senha é obrigatória.
                </div>
                <div class="forgot-password" *ngIf="isLogin">
                    <a href="#">Esqueci minha senha</a>
                </div>
            </div>

            <div class="form-group" *ngIf="!isLogin">
                <label for="confirmPassword">Confirmar Senha</label>
                <input type="password" id="confirmPassword" formControlName="confirmPassword" placeholder="••••••••">
                <div class="error-message"
                    *ngIf="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched">
                    Confirmação de senha é obrigatória.
                </div>
            </div>

            <div class="form-group terms-container" *ngIf="!isLogin">
                <label class="checkbox-label">
                    <input type="checkbox" formControlName="terms">
                    <span>Li e aceito os <a href="#">termos de uso</a> e <a href="#">política de privacidade</a>.</span>
                </label>
                <div class="error-message"
                    *ngIf="registerForm.get('terms')?.invalid && registerForm.get('terms')?.touched">
                    Você deve aceitar os termos.
                </div>
            </div>

            <button type="submit" class="submit-btn">{{ isLogin ? 'Entrar' : 'Cadastrar' }}</button>
        </form>
    </div>
</div>